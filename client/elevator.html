<head>
  <title>elevator</title>
  <link src="css/bootstrap.css">
  <link src="css/bootstrap-theme.css">
  <script type="text/javascript" src="js/bootstrap.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
</head>

<body>
  {{> main_container}}
</body>

<template name="main_container">
  {{> nav_bar}}
  {{> logged_in}}
</template>

<template name="logged_in">
  {{> open_graph}}
  {{#if logged_in}}
    {{#if new_competition_page}}
      {{> new_competition}}
    {{/if}}
    {{#if all_competition_page}}
    {{/if}}
    {{#if leaderboard_page}}
      {{> leaderboard}}
    {{/if}}
    {{> all_users}}
    {{> invite}}
  {{/if}}
</template>

<template name="nav_bar">
  <nav class="navbar navbar-default navbar-inverse" role="navigation">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">ElevatorHaters</a>
    </div>

    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li><a href="#" class="new-competition__button">New</a></li>
        <li><a href="#" class="competition-list">Competition</a></li>
        {{> yammer_login}}
      </ul>
    </div>
  </nav>
</template>

<template name="yammer_login">
    <li><a href="#" class="logout">Logout</a></li>
    <li><a href="#" class="login" id="yammer-login">Login</a></li>
</template>

<template name="new_competition">
  <div class="new-competition">
    <h1>New Competition</h1>
    <input class="new-competition__name" type="text" value="name">
    <select class="new-competition__type">
        <option value="fitness">Fitness</option>
        <option value="health">Health</option>
        <option value="walk">Volunteer</option>
        <option value="walk">Professional</option>
        <option value="walk">Health</option>
        <option value="walk">Health</option>
    </select>
    <input type="text" class="new-competition__goal-number">
    <input type="text" class="new-competition__goal-metric">
    <input type="date" class="new-competition__end-date">
    <button id="new_competition__create">Create</button>
    {{test_content}}
  <div>
    <button id="add_user_to_competition">Add User</button>
</template>

<template name="all_users">
  <div>All Users</div>
  {{#each get_all_users}}
    <div>{{yammer_id}}</div>
  {{/each}}
</template>

<template name="leaderboard">
  <div class="leaderboard">
    <h1>Leaderboard</h1>
    {{#each user_list}}
      <div>Username: {{userId}} Score: {{score}}</div>
    {{/each}}
  </div>
</template>

<template name="open_graph">
  <div>
    <input type="button" value="post" class="post" />
  </div>
</template>

<template name="invite">
  <div class="panel">
    <input type="button" value="invite" class="invite" />
    <h2>All users</h2>
    {{#each friends}}
      <div>{{this.first_name}}</div>
    {{/each}}
  </div>
</template>
